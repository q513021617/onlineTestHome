<script src="{{url_for('static', filename='js/swiper.min.js')}}" type="text/javascript" charset="utf-8"></script>
<script src="{{url_for('static', filename='js/swiper.animate1.0.3.min.js')}}" type="text/javascript" charset="utf-8"></script>
<script>
	var mySwiper = new Swiper('.swiper-container', {
		loop: true,
		effect: 'fade',
		pagination: {
			el: '.swiper-pagination',
			clickable: true,
		},
		autoplay: {
			delay: 5000, //1秒切换一次
		},
		on: {
			init: function() {
				swiperAnimateCache(this); //隐藏动画元素
				this.emit('slideChangeTransitionEnd'); //在初始化时触发一次slideChangeTransitionEnd事件
			},
			slideChangeTransitionEnd: function() {
				swiperAnimate(this); //每个slide切换结束时运行当前slide动画
			}
		}
	});
</script>

<script src="{{url_for('static', filename='js/jquery-1.11.0.js')}}" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
	//换一换
	var $newsLists = $('.news-sub').find('.news-list-v');

	function changeNews() {
		var $currentNews = $newsLists.filter('.show');
		var $nextNews = $currentNews.next();

		if($nextNews.length === 0) {
			$nextNews = $newsLists.eq(0);
		}

		$newsLists.removeClass('show');
		$nextNews.addClass('show');
	}
	$('.news-change').on('click', function() {
		changeNews();
	});
</script>